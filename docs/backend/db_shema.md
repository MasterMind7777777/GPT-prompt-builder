### Database Schema for Django with Explanations

#### **1. Template**
   - **id** (AutoField, Primary Key)
   - **user** (ForeignKey, linked with Django user model)
   - **name**
   - **visibility** (Choices: Private/Public/Shared)
   - **date_created** (DateTimeField)
   - **last_modified** (DateTimeField)
   
   **Commentary:**
   This table holds information about each prompt template. It associates templates with users and stores meta-information like the visibility and modification times, allowing tracking and management of different templates.

---

#### **2. TemplatePart**
   - **id** (AutoField, Primary Key)
   - **template** (ForeignKey, linked to Template)
   - **content**
   - **order** (IntegerField)
   - **type** (CharField, Choices: Title/Body/Footer/etc.)
   
   **Commentary:**
   This table manages the individual parts or segments of a template, allowing for a modular approach where different parts of a template can be mixed and matched for optimized results.

---

#### **3. Tag**
   - **id** (AutoField, Primary Key)
   - **name** (CharField)
   - **template** (ManyToManyField, linked to Template, null=True, blank=True)
   - **template_part** (ManyToManyField, linked to TemplatePart, null=True, blank=True)
   - **outcome** (ManyToManyField, linked to Outcome, null=True, blank=True)
   
   **Commentary:**
   Tags are used for categorizing and searching templates effectively. By applying tags, templates can be organized and filtered based on user needs or characteristics like topic or usage scenario.

---

#### **4. Prompt**
   - **id** (AutoField, Primary Key)
   - **template** (ForeignKey, linked to Template)
   - **filled_content** (JsonField)
   - **date_generated** (DateTimeField)
   
   **Commentary:**
   This table stores the finalized prompts which are generated by filling the templates. It keeps a record of the complete, filled-out prompts and the templates they are derived from.

---

#### **5. Outcome**
   - **id** (AutoField, Primary Key)
   - **prompt** (ForeignKey, linked to Prompt)
   - **content** (TextField)
   - **generated_at** (DateTimeField)
   - **tool_used** (CharField)
   
   **Commentary:**
   Outcomes are the results from executing prompts. The table keeps track of each outcome, the prompt itâ€™s associated with, and additional information like the generation time and the tool used.

---

#### **6. OutcomeMetric**
   - **id** (AutoField, Primary Key)
   - **outcome** (ForeignKey, linked to Outcome, null=True, blank=True)
   - **template** (ForeignKey, linked to Template, null=True, blank=True)
   - **part** (ForeignKey, linked to TemplatePart, null=True, blank=True)
   - **metric_type** (CharField)
   - **value** (FloatField)
   
   **Commentary:**
   This table stores performance metrics. An OutcomeMetric must be associated with either an outcome, template, or template part, but only one of these associations can exist for each OutcomeMetric record.

---

#### **7. Ranking**
   - **id** (AutoField, Primary Key)
   - **template** (ForeignKey, linked to Template, null=True, blank=True)
   - **part** (ForeignKey, linked to TemplatePart, null=True, blank=True)
   - **user** (ForeignKey, linked with Django user model)
   - **score** (IntegerField)
   - **comments** (TextField, null=True, blank=True)
   - **ranked_at** (DateTimeField)
   
   **Commentary:**
   Rankings provide a way for users to rate and review templates and template parts, offering a feedback mechanism for improvement and quality assurance. An Ranking must be associated with either an template, or template part, but only one of these associations can exist for each Ranking record.


---

#### **8. CommunityShare**
   - **id** (AutoField, Primary Key)
   - **template** (ForeignKey, linked to Template, null=True, blank=True)
   - **part** (ForeignKey, linked to TemplatePart, null=True, blank=True)
   - **shared_by_user** (ForeignKey, linked with Django user model related_name='shared_by')
   - **shared_with_user** (ForeignKey, linked with Django user model related_name='shared_with')
   - **date_shared** (DateTimeField)
   
   **Commentary:**
   The CommunityShares table facilitates the sharing of templates or parts between users, promoting community collaboration and knowledge exchange. An CommunityShare must be associated with either an template, or template part, but only one of these associations can exist for each CommunityShare record.

---

#### **9. CommentFeedback**
   - **id** (AutoField, Primary Key)
   - **template** (ForeignKey, linked to Template, null=True, blank=True)
   - **part** (ForeignKey, linked to TemplatePart, null=True, blank=True)
   - **user** (ForeignKey, linked with Django user model)
   - **content** (TextField)
   - **parent_comment** (ForeignKey, self-referential, null=True, blank=True)
   - **date_commented** (DateTimeField)
   
   **Commentary:**
   This table stores comments or feedback from users related to templates or template parts, enabling discussions, queries, and collaborative improvement.

